<ots:LaneTypes xmlns:ots="http://www.opentrafficsim.org/ots" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots ../ots-definitions.xsd">

<!--
        GTUCompatibility<LaneType> noTrafficCompatibility = new GTUCompatibility<>((LaneType) null);
        NONE = new LaneType("NONE", null, noTrafficCompatibility);
        GTUCompatibility<LaneType> roadCompatibility = new GTUCompatibility<>((LaneType) null);
        roadCompatibility.addAllowedGTUType(GTUType.ROAD_USER, LongitudinalDirectionality.DIR_BOTH);
        TWO_WAY_LANE = new LaneType("TWO_WAY_LANE", null, roadCompatibility);
        RURAL_ROAD_LANE = new LaneType("RURAL_ROAD", TWO_WAY_LANE, new GTUCompatibility<>(roadCompatibility));
        URBAN_ROAD_LANE = new LaneType("URBAN_ROAD", TWO_WAY_LANE, new GTUCompatibility<>(roadCompatibility));
        RESIDENTIAL_ROAD_LANE = new LaneType("RESIDENTIAL_ROAD", TWO_WAY_LANE, new GTUCompatibility<>(roadCompatibility));
        GTUCompatibility<LaneType> oneWayLaneCompatibility = new GTUCompatibility<>(roadCompatibility);
        oneWayLaneCompatibility.addAllowedGTUType(GTUType.ROAD_USER, LongitudinalDirectionality.DIR_PLUS);
        oneWayLaneCompatibility.addAllowedGTUType(GTUType.PEDESTRIAN, LongitudinalDirectionality.DIR_BOTH);
        ONE_WAY_LANE = new LaneType("ONE_WAY_LANE", oneWayLaneCompatibility);
        GTUCompatibility<LaneType> highwayLaneCompatibility = new GTUCompatibility<>(oneWayLaneCompatibility)
                .addAllowedGTUType(GTUType.PEDESTRIAN, LongitudinalDirectionality.DIR_NONE);
        FREEWAY = new LaneType("FREEWAY", highwayLaneCompatibility);
        HIGHWAY = new LaneType("HIGHWAY", highwayLaneCompatibility);
        GTUCompatibility<LaneType> busLaneCompatibility = new GTUCompatibility<>(roadCompatibility);
        busLaneCompatibility.addAllowedGTUType(GTUType.BUS, LongitudinalDirectionality.DIR_BOTH);
        busLaneCompatibility.addAllowedGTUType(GTUType.ROAD_USER, LongitudinalDirectionality.DIR_NONE);
        BUS_LANE = new LaneType("BUS_LANE", busLaneCompatibility);
        GTUCompatibility<LaneType> mopedAndBicycleLaneCompatibility = new GTUCompatibility<>(roadCompatibility);
        mopedAndBicycleLaneCompatibility.addAllowedGTUType(GTUType.BICYCLE, LongitudinalDirectionality.DIR_BOTH);
        mopedAndBicycleLaneCompatibility.addAllowedGTUType(GTUType.ROAD_USER, LongitudinalDirectionality.DIR_NONE);
        MOPED_PATH = new LaneType("MOPED_PATH", mopedAndBicycleLaneCompatibility);
        GTUCompatibility<LaneType> bicycleOnlyCompatibility = new GTUCompatibility<>(mopedAndBicycleLaneCompatibility);
        bicycleOnlyCompatibility.addAllowedGTUType(GTUType.MOPED, LongitudinalDirectionality.DIR_NONE);
        BICYCLE_PATH = new LaneType("BICYCLE_PATH", bicycleOnlyCompatibility);
        GTUCompatibility<LaneType> pedestriansOnly = new GTUCompatibility<>(roadCompatibility);
        pedestriansOnly.addAllowedGTUType(GTUType.ROAD_USER, LongitudinalDirectionality.DIR_NONE);
        FOOTPATH = new LaneType("FOOTPATH", pedestriansOnly);
 -->

  <ots:LaneType Id="NONE" Default="true">
    <ots:Compatibility GtuType="NONE" Direction="NONE"/>
  </ots:LaneType>
  
  <ots:LaneType Id="TWO_WAY_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
  </ots:LaneType>

  <ots:LaneType Id="RURAL_ROAD" Parent="TWO_WAY_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
  </ots:LaneType>

  <ots:LaneType Id="URBAN_ROAD" Parent="TWO_WAY_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
  </ots:LaneType>

  <ots:LaneType Id="RESIDENTIAL_ROAD" Parent="TWO_WAY_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
  </ots:LaneType>

  <ots:LaneType Id="ONE_WAY_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
    <ots:Compatibility GtuType="PEDESTRIAN" Direction="BOTH" />
  </ots:LaneType>

  <ots:LaneType Id="FREEWAY" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
    <ots:Compatibility GtuType="PEDESTRIAN" Direction="NONE" />
  </ots:LaneType>

  <ots:LaneType Id="HIGHWAY" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="FORWARD" />
    <ots:Compatibility GtuType="PEDESTRIAN" Direction="NONE" />
  </ots:LaneType>

  <ots:LaneType Id="BUS_LANE" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="NONE" />
    <ots:Compatibility GtuType="BUS" Direction="FORWARD" />
  </ots:LaneType>

  <ots:LaneType Id="MOPED_PATH" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="NONE" />
    <ots:Compatibility GtuType="BICYCLE" Direction="FORWARD" />
    <!-- a MOPED is a special BICYCLE -->
  </ots:LaneType>

  <ots:LaneType Id="BICYCLE_PATH" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="NONE" />
    <ots:Compatibility GtuType="BICYCLE" Direction="FORWARD" />
    <ots:Compatibility GtuType="MOPED" Direction="NONE" />
  </ots:LaneType>

  <ots:LaneType Id="FOOTPATH" Default="true">
    <ots:Compatibility GtuType="ROAD_USER" Direction="NONE" />
    <ots:Compatibility GtuType="PEDESTRIAN" Direction="BOTH" />
  </ots:LaneType>

</ots:LaneTypes>
